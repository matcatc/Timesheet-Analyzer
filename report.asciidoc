// Copyright 2018 Matthew Todd
// 
// This file is part of Timesheet Analyzer.
// 
// Timesheet Analyzer is free software: you can redistribute it and/or modify it
// under the terms of the GNU General Public License as published by the Free
// Software Foundation, either version 3 of the License, or (at your option) any
// later version.
// 
// Timesheet Analyzer is distributed in the hope that it will be useful, but
// WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
// details.
// 
// You should have received a copy of the GNU General Public License along with
// Timesheet Analyzer.  If not, see <http://www.gnu.org/licenses/>.
Timesheet Analyzer - Report
===========================
:author: Timesheet Analyzer
:toc:
:toclevel: 4
:numbered:

// TODO: images dir based on the final tool
:imagesdir: ./

// Use an include to get various metrics from the computation component. This
// includes several document attributes, and thus *must* appear before any
// text.
include::reportInfo.asciidoc[]


== Summary

This report was automatically generated by Timesheet Analyzer {Version} for the weeks from {StartWeek} to {EndWeek} for a total of {NumberWeeks} weeks.
Over the course of these {NumberWeeks} weeks, a total of {TotalHours} hours were logged, which are split up as follows:

.Summary of Hours
[options="header,footer"]
|===
| Category | Sum (hours)     | Average per Week (hours)
| Labor    | {LaborHours}    | {LaborAvgPerWeek}
| Sick     | {SickHours}     | {SickAvgPerWeek}
| Vacation | {VacationHours} | {VacationAvgPerWeek}
| Holiday  | {HolidayHours}  | {HolidayAvgPerWeek}
| Comp     | {CompHours}     | {CompAvgPerWeek}
| Total    | {TotalHours}    | {TotalAvgPerWeek}
|===

Over the course of this period, {CompTimeAccrued} hours of comp time have been accrued.

// Not using a footnote in the table cell as this doesn't work properly in the PDF generation. It does work properly in the HTML generation.
"Comp (explicit)" refers to comp time being explicitly taken, and doesn't include time that is "implicitly" taken by going home early (e.g.: working 39 hours in a 40 hour work week.)


== Total Time

The following graph shows an averaged/smoothed plot of the total weekly time.
Thus it shows a high-level trend and can be useful to ignore outliers.
If in general the smoothed total is above 40 hours, then in general you are working more than 40 hours.
And if in general the smoothed total is below 40 hours, then in general you are working less than 40 hours.

.Average Week Total Linechart
image::average_week_total_linechart.png[Average Week Total Linechart]

== Total Time Weekly Breakdown

The following two graphs show the breakdown of the total time into the individual categories.
The first is a linechart that shows each component individually, with smoothing to help show trends and make it easier to read.
It can be a little messy, but is useful if you want to view an individual category over a period of time while also seeing how it relates to other categories at points.
Just be aware that sometimes the lines will overlap and thus one will be hidden.

.Total Week Time Linechart
image::total_week_time_linechart.png[Total Week Time Linechart]

The second is a stacked area line chart which shows how each category adds up to the final total.
This graph is especially useful since one can easily judge how much time (porpotionally) is being spent in a particular category.
I.e.: if most of the area is one color in a particular section, then most of the time is being spent in that category.

.Total Week Time Stacked Linechart
image::total_week_time_stacked_linechart.png[Total Week Time Stacked Linechart]

Both of these charts get more difficult to read when the number of weeks (and thus data points) is large.
If you find this to be the case, consider limiting the number of weeks being analyzed and graphed to a time period of interest.
See the `--help` option for more on how to do this.

== Labor Time

The labor category is given its own individual graph since this is the primary category that users will be interested in.
It shows an averaged/smoothed trend in how much time one is spending actively working.
If you see the line consistently above 40 hours, then one is consistently working more than 40 hours a week.
If you see the line consistently below 40 hours, then one is consistently not _actively_ working more than 40 horus a week.
It is important to note that there are many reasons why the line might go below 40 hours a week.
For example:

* National Holidays
* Vacation
* Sick Time
* Jury Duty
* Parental Leave
* Simply not working many hours a week

What the cause is needs to be determined on a case-by-case basis.
It is recommended to consult the <<Total Time>> and <<Total Time Weekly Breakdown>> charts.
If the total time is consistently above 40 hours, then the cause is related to time being spent on other categories (e.g.: vacation, sick, etc.)
At which point you can look for trends in the other categories to determine why labor dipped at certain points.

.Average Week Labor Timechart
image::average_week_labor_linechart.png[Average Week Labor Linechart]

== Comp Time Accrual

Comp time (Compensation time) is often used by managers to "compensate" employees for working overtime (for salary / exempt employees who don't get any overtime pay.)
The idea is that if one works extra hours this week, then in the following weeks one may work less (so that the average stays around 40 hours).
The details of this setup depends on the manager, but generally the employee needs to track the accumulated comp time hours themselves since they are not officially recognized by the company (i.e.: payroll / HR).
For the purposes of these graphs, a 1-to-1 rule for comp time is assumed.
So if you work an extra 5 hours one week, it is assumed that you have earned 5 hours of comp time and you can work 5 hours less next week (over over the course of several weeks at some point in the future.)
If your manager does not follow a 1-to-1 rule, then you will need to scale the graph accordingly.
I.e.: if for every 4 hours you work extra you only get 1 hour of comp time, then you'll need to divide the numbers in the graph by 4 to get the values that apply for you.

It is also imporant to note that these graphs will automatically include "implicit" comp time in this computation.
One may explicitly specify the comp time category in timesheets, which is useful when one wants to explicitly call out that they're intentionally taking time off using their comp time.
But Timesheet Analyzer will additionally detect when one works less than 40 hours in a week and automatically deduct this from the earned and accrued comp time.
This implicit comp time is not included in any of the graphs in other sections.

Both of the following charts are used for tracking how much comp time is earned and accrued over time.
The first and most interesting of the two shows the accrual of comp time.
It is important to note that the comp time accrual computation only covers the time period analyzed.
So if you did not include all of the weeks you've worked (e.g.: via a time window), then the comp time accrual will only cover this specific period.
This can be useful for determining how much comp time you've accrued in a period.
But if you want to see how much you've accrued since you started at a company, you'll need to process all weeks.

This graph can also be useful for getting an idea if one is consistently working (per total work hours) more than, less than, or about 40 hours a week.
If the graph trends up, then one is consistently working more than 40 hours a week.
If the graph trends down, then one is consistently working less than 40 hours a week.
If the graph is staying stable around a particular value, then for that period one is consistently working around 40 hours a week.

It is also important to note that accrued comp time can be negative.
This means that one has spent (explicitly or implicitly) more comp time than they've earned yet.
I.e.: one is borrowing comp time from the future.
This can be useful when one knows they'll have to work a lot of extra hours in the near future, and decides to work a little less now.

.Accrued Comp Time Linechart
image::week_accrued_comp_time_linechart.png[Accrued Comp Time Linechart]

Over the course of the analyzed period, {CompTimeAccrued} hours of comp time have been accrued.

The second graph shows how much comp time is earned each week.
Positive values mean one has worked more than 40 hours that week, and thus earned some comp time.
Negative values mean that one has worked less than 40 hours that week, and thus spent some comp time.

.Earned Comp Time Linechart
image::week_earned_comp_time_linechart.png[Earned Comp Time Linechart]


